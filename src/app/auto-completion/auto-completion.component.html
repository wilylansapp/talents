<input
  #inputRef
  type="text"
  [formControl]="formControl"
  [value]="valueToDisplay || ''"
  (keyup)="filterData($event.target.value)"
  (focus)="showDropdown()"
/>
<ul (focus)="focusDropDown()" *ngIf="showDropdownFlag">
  <ng-container *ngIf="filteredData$ | async as filteredData">
    <li *ngFor="let group of filteredData | groupedBy: regroupBy">
      <span class="group-title">{{ group.key }}</span>
      <ul>
        <li *ngFor="let item of group.items" (click)="selectItem(item)">
          {{ item[textKey] }}
        </li>
      </ul>
    </li>
  </ng-container>
</ul>
